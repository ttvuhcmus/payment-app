<div class="create">
	<div class="create-user d-flex justify-content-center">
		<div class="form-info  col-8 ">

			{{#if success}}
			<div class="alert alert-success" role="alert">
				Create success
			</div>
			{{/if}}
			{{#if fail}}
			<div class="alert alert-danger" role="alert">
				Create fail!
			</div>
			{{/if}}

			<select class="form-select my-3 user-select" onChange="selectUser()">
				<option selected value="default">Chose user</option>
				{{#each users}}<option value="{{this.id_number}}">{{this.name}} - {{this.id_number}}</option>
				{{/each}}
			</select>
			<div class="info-group info-group-default">
				<div class="input-group my-2">
					<label for="username" class="col-sm-4 col-form-label">User name</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="username" value="">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="id" class="col-sm-4 col-form-label">ID</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="id" value="">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="email" class="col-sm-4 col-form-label">Email</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="email" value="">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="phone" class="col-sm-4 col-form-label">Phone</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="phone" value="">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="birthday" class="col-sm-4 col-form-label">Birthday</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="birthday" value="">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="address" class="col-sm-4 col-form-label">Address</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="address" value="">
					</div>
				</div>
			</div>
			{{#each users}}
			<div class="info-group info-group-{{this.id_number}}" style="display: none;">
				<div class="input-group my-2">
					<label for="username" class="col-sm-4 col-form-label">User name</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="username" value="{{this.name}}">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="id" class="col-sm-4 col-form-label">ID</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="id" value="{{this.id_number}}">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="email" class="col-sm-4 col-form-label">Email</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="email" value="{{this.email}}">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="phone" class="col-sm-4 col-form-label">Phone</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="phone" value="{{this.phone}}">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="birthday" class="col-sm-4 col-form-label">Birthday</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="birthday" value="{{this.date_birth}}">
					</div>
				</div>
				<div class="input-group my-2">
					<label for="address" class="col-sm-4 col-form-label">Address</label>
					<div class="col-sm-8">
						<input type="text" readonly class="form-control" id="address" value="{{this.address}}">
					</div>
				</div>
			</div>
			{{/each}}

			<form action="/create" method="post" class="form-post float-end mt-5" style="display: none;">
				<input class="input-id-post d-none" name="id_number" type="text">
				<button type="submit" class="btn btn-success">Create</button>
			</form>


		</div>

	</div>
</div>

<script>
	function selectUser() {
		let value = document.querySelector(".user-select").value;
		let infoGroup = document.querySelectorAll(`.info-group`)
		for (let i = 0; i < infoGroup.length; i++) {
			infoGroup[i].style.display = "none"
		}
		document.querySelector(`.info-group-${value}`).style.display = "block"

		if (parseInt(value) >= 0) {
			document.querySelector(".form-post").style.display = "block";
			document.querySelector(".input-id-post").value = value
		}
	}
</script>